function render(){context.clearRect(0,0,canvas.width,canvas.height),Dots.forEach(function(Dot){Dot.Draw()})}function trimHex(hex){var h;return"#"===hex.charAt(0)?hex.substring(1,7):h}function hexToRGBA(hex,alpha){var red=parseInt(trimHex(hex).substring(0,2),16),green=parseInt(trimHex(hex).substring(2,4),16),blue=parseInt(trimHex(hex).substring(4,6),16);return"rgba("+red+", "+green+", "+blue+", "+alpha+")"}function Dot(){this.active=!0,this.diameter=7*Math.random(),this.x=Math.round(Math.random()*canvas.width),this.y=Math.round(Math.random()*canvas.height),this.velocity={x:(Math.random()<.5?-1:1)*Math.random()*.7,y:(Math.random()<.5?-1:1)*Math.random()*.7},this.alpha=.1,this.hex=colors[Math.round(3*Math.random())],this.color=hexToRGBA(this.hex,this.alpha)}function generateDots(){if(Dots.length<maximum)for(var i=Dots.length;maximum>i;i++)Dots.push(new Dot);return!1}function update(){generateDots(),Dots.forEach(function(Dot){Dot.update()}),Dots=Dots.filter(function(Dot){return Dot.active}),render(),requestAnimationFrame(update)}function initialize(){generateDots(),update()}var canvas=$("canvas")[0],context=canvas.getContext("2d");canvas.width=window.innerWidth,canvas.height=window.innerHeight;var Dots=[],colors=["#3299BB","#424242","#BCBCBC","#3299BB"],maximum=70;Dot.prototype={update:function(){this.alpha<.8&&(this.alpha+=.01,this.color=hexToRGBA(this.hex,this.alpha)),this.x+=this.velocity.x,this.y+=this.velocity.y,(this.x>canvas.width+5||this.x<-5||this.y>canvas.height+5||this.y<-5)&&(this.active=!1)},Draw:function(){context.fillStyle=this.color,context.beginPath(),context.arc(this.x,this.y,this.diameter,0,2*Math.PI,!1),context.fill()}},$(window).resize(function(){Dots=[],canvas.width=window.innerWidth,canvas.height=window.innerHeight}),initialize();